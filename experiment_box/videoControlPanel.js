/*
keep code block for Anina Bruggmann in memory and honour!

$("video").on("timeupdate",function() {
//Gegenstück zu Math.floor ist Math.ceil (aufrunden)
switch(Math.floor($("video")[0].currentTime)) {
	case 20: //Aktion bei 20 Sekunden
	//Nutzereingaben, etc. pp.
	//alles ok, Video weiter? -> $("video")[0].play();
	break;
	case 27: //Aktion bei 27 Sekunden
	break;
	//...
	default:
	break;
}

if($("video")[0].currentTime) > 20) {
	//...
}
else if($("video")[0].currentTime) > 27) {
	//...
}
else {
	
}
});
*/
// 3. This function creates an <iframe> (and YouTube player)
//    after the API code downloads.
var player;
function onYouTubeIframeAPIReady() {
	player = new YT.Player('video', {
		height: '315',
		width: '560',
		videoId: 'huvhzIRX2Yg',
		events: {
			'onReady': onPlayerReady,
			'onStateChange': onPlayerStateChange
		}
	});
}


// 4. The API will call this function when the video player is ready.
function onPlayerReady(event) {
	event.target.playVideo();
}

// 5. The API calls this function when the player's state changes.
//    The function indicates that when playing a video (state=1),
//    the player should play for six seconds and then stop.
var done = false;
function onPlayerStateChange(event) {
	if (event.data == YT.PlayerState.ENDED) {
		//buttons hinzufügen
	}
}
function stopVideo() {
    player.stopVideo();
}


/*
//this is the datastructure which has to be generated by the server
const eventJSON = {
	"baseFile": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/voyage/voyage_Dh153_Bmee_0.mp4",
	"setImages": [
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/ChristianGarveAntonGraff.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/EdmundBurke1771.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/Elisabeth_von_Staegemann_Selbstportraet_1808.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/Friedrich_Gentz.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/Jean_Pierre_Frederic_Ancillon_Rinck.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/Kant_gemaelde_1.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/TEI-400.jpg"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/kvag_zeidel_diesel_ng_542_2.png"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/kvag_zeidel_diesel_nl_202_2.png"},
		{"dataType": "image","filePath": "file:///F:/Lagerhaus/ZeDF/kellekek/trains_zvw/zeideli_allomasok/karlstadt/RolleDesFahrkartenautomaten.jpg"}
	],
	"imgInterval" : 10
}

$(document).ready(function(){
	var imgInterval = eventJSON.imgInterval;
	$("#ear").append('<video id="baseVideo" controls autoplay><source src="'+eventJSON.baseFile+'" type="video/mp4"></video>');//mp4 with H.264 codec is mandatory

	document.addEventListener("timeupdate",function(e) {
		if($(e.target).is("#baseVideo")){
			let sec = Math.floor($("#baseVideo")[0].currentTime);
			console.log(sec);
			if(sec >= imgInterval) {
				$(".eventElement").remove();
				let nextFile = eventJSON.setImages[Math.floor(Math.random() * (eventJSON.setImages.length-1))];
				switch(nextFile.dataType){
					case "image": $("#ear").append('<img src="'+nextFile.filePath+'" class="eventElement">');
					break;
				}
				imgInterval += eventJSON.imgInterval;
			}
		}
	}, true);
	
	document.addEventListener("ended",function(e) {
		if($(e.target).is("#baseVideo")){
			alert("next action expected!");
		}
	}, true);
});
*/